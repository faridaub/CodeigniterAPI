<?php

/*
 -------------------------------------------------------------------------------------------------------------------
* @ 開発者		: Anamul Haq Farid
* @ 日付			: 2014年08月11日
* @ バッチ処理名	: 空室情報更新バッチ
* @ 内容			: スマートフォン向けBサービス側の空室情報検索を実行し、空室情報の全情報を取得してAPIサーバの空室情報テーブルに反映する。
-------------------------------------------------------------------------------------------------------------------
*/

class Vacancy extends CI_Controller {
	
	//-------------------------------------------------------------------------------------------------------------------
	//@ コンストラクターメソッド
	//-------------------------------------------------------------------------------------------------------------------
	public function __construct() {
		parent::__construct ();
		$this->load->library ("xmlrpc");
		$this->load->model("Vacancy_model");
	}
 	
	//-------------------------------------------------------------------------------------------------------------------
	//@ 空室情報更新バッチ（全件）
	//-------------------------------------------------------------------------------------------------------------------
	public function all(){
		$this->Vacancy_model->setSearchType("0");
		$this->Vacancy_model->run();		
	}
	
	//-------------------------------------------------------------------------------------------------------------------
	//@ 空室情報更新バッチ（差分）
	//-------------------------------------------------------------------------------------------------------------------
	public function diff(){
		$this->Vacancy_model->setSearchType("1");
		$this->Vacancy_model->run();
	}
	
	//-------------------------------------------------------------------------------------------------------------------
	//@ テスト処理
	//-------------------------------------------------------------------------------------------------------------------
	public function test(){
		$this->Vacancy_model->testingData();
	}
	
}
